# å¤šæ™ºèƒ½ä½“å®¢æœç³»ç»Ÿå¯¹æ¯”åˆ†ææŠ¥å‘Š

## ğŸ“‹ ç›®å½•

1. [æ¦‚è¿°](#æ¦‚è¿°)
2. [ç³»ç»Ÿå¯¹æ¯”æ€»è§ˆ](#ç³»ç»Ÿå¯¹æ¯”æ€»è§ˆ)
3. [ç³»ç»Ÿä¸€ï¼šmulti-agent-customer-system è¯¦ç»†åˆ†æ](#ç³»ç»Ÿä¸€multi-agent-customer-system-è¯¦ç»†åˆ†æ)
4. [ç³»ç»ŸäºŒï¼šautogen-agents-customer-system è¯¦ç»†åˆ†æ](#ç³»ç»ŸäºŒautogen-agents-customer-system-è¯¦ç»†åˆ†æ)
5. [å¤šç»´åº¦å¯¹æ¯”åˆ†æ](#å¤šç»´åº¦å¯¹æ¯”åˆ†æ)
6. [ä¼˜ç¼ºç‚¹æ€»ç»“](#ä¼˜ç¼ºç‚¹æ€»ç»“)
7. [æ¨èæ–¹æ¡ˆ](#æ¨èæ–¹æ¡ˆ)
8. [æŠ€æœ¯é€‰å‹å»ºè®®](#æŠ€æœ¯é€‰å‹å»ºè®®)

---

## æ¦‚è¿°

æœ¬æ–‡æ¡£å¯¹ `src/app` ç›®å½•ä¸‹çš„ä¸¤ä¸ªå¤šæ™ºèƒ½ä½“å®¢æœç³»ç»Ÿè¿›è¡Œå…¨é¢å¯¹æ¯”åˆ†æï¼š

- **ç³»ç»Ÿä¸€**: `multi-agent-customer-system` - åŸºäº AutoGen 0.4.x çš„æ–°ä¸€ä»£å¤šæ™ºèƒ½ä½“ç³»ç»Ÿ
- **ç³»ç»ŸäºŒ**: `autogen-agents-customer-system` - åŸºäº AutoGen 0.2.x çš„ç»å…¸å¤šæ™ºèƒ½ä½“ç³»ç»Ÿ

ä¸¤ä¸ªç³»ç»Ÿéƒ½è‡´åŠ›äºè§£å†³å®¢æœé¢†åŸŸçš„è®¢å•æŸ¥è¯¢å’Œç‰©æµè·Ÿè¸ªé—®é¢˜ï¼Œä½†åœ¨æŠ€æœ¯å®ç°ã€æ¶æ„è®¾è®¡ã€å¼€å‘ç†å¿µç­‰æ–¹é¢å­˜åœ¨æ˜¾è‘—å·®å¼‚ã€‚

---

## ç³»ç»Ÿå¯¹æ¯”æ€»è§ˆ

| å¯¹æ¯”ç»´åº¦ | multi-agent-customer-system | autogen-agents-customer-system |
|---------|----------------------------|-------------------------------|
| **AutoGen ç‰ˆæœ¬** | 0.4.x (æœ€æ–°ç‰ˆ) | 0.2.x (ç»å…¸ç‰ˆ) |
| **ä»£ç ç»„ç»‡** | é«˜åº¦æ¨¡å—åŒ–ï¼Œåˆ†å±‚æ¶æ„ | ç›¸å¯¹ç®€åŒ–ï¼ŒåŠŸèƒ½å¯¼å‘ |
| **æ™ºèƒ½ä½“æ•°é‡** | 3ä¸ªä¸“ä¸šæ™ºèƒ½ä½“ | 4ä¸ªæ™ºèƒ½ä½“ï¼ˆå«æ¥å¾…å‘˜ï¼‰ |
| **å¹¶è¡Œå¤„ç†** | âœ… åŸç”Ÿå¼‚æ­¥å¹¶è¡Œ | âš ï¸ ä¸²è¡Œå¤„ç†ä¸ºä¸» |
| **äº¤äº’æ¨¡å¼** | æ ‡å‡†æ¨¡å¼ + AutoGen Teamï¼ˆå®éªŒæ€§ï¼‰ | GroupChat ç¾¤ç»„èŠå¤© |
| **å¯è§†åŒ–ç¨‹åº¦** | é«˜ï¼ˆRich + è¯¦ç»†æ—¥å¿—ï¼‰ | ä¸­é«˜ï¼ˆRich + äº¤äº’é¢æ¿ï¼‰ |
| **é…ç½®ç®¡ç†** | Pydantic Settingsï¼ˆç±»å‹å®‰å…¨ï¼‰ | ç®€å•é…ç½®ç±» |
| **æµ‹è¯•è¦†ç›–** | âœ… å•å…ƒæµ‹è¯• + é›†æˆæµ‹è¯• | âš ï¸ åŸºç¡€æµ‹è¯•æ¡†æ¶ |
| **æ–‡æ¡£å®Œæ•´æ€§** | âœ… è¯¦ç»†çš„ README + æ–‡æ¡£ | âœ… ä¸­æ–‡æ–‡æ¡£è¯¦å°½ |
| **å¯æ‰©å±•æ€§** | â­â­â­â­â­ æé«˜ | â­â­â­â­ é«˜ |
| **å­¦ä¹ æ›²çº¿** | é™¡å³­ï¼ˆéœ€è¦ç†è§£æ–°æ¶æ„ï¼‰ | ä¸­ç­‰ï¼ˆä¼ ç»Ÿ AutoGenï¼‰ |
| **ç”Ÿäº§å°±ç»ªåº¦** | é«˜ | ä¸­é«˜ |

---

## ç³»ç»Ÿä¸€ï¼šmulti-agent-customer-system è¯¦ç»†åˆ†æ

### ğŸ¯ ç³»ç»Ÿå®šä½

åŸºäº **AutoGen 0.4.x** æœ€æ–°ç‰ˆæœ¬çš„ç°ä»£åŒ–å¤šæ™ºèƒ½ä½“å®¢æœç³»ç»Ÿï¼Œä»£è¡¨äº† AutoGen æ¡†æ¶çš„æœ€æ–°å®è·µå’Œæœ€ä½³æ¶æ„ã€‚

### ğŸ—ï¸ æ¶æ„è®¾è®¡

#### åˆ†å±‚æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        ç”¨æˆ·äº¤äº’å±‚                                â”‚
â”‚                    å‘½ä»¤è¡Œç•Œé¢ CLI                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         åº”ç”¨å±‚                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ æŸ¥è¯¢è§£æå™¨   â”‚  â”‚ ç”¨æˆ·è¾“å…¥å¤„ç†å™¨ â”‚  â”‚ äº¤äº’å¯è§†åŒ–å±•ç¤ºå™¨ â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        æ™ºèƒ½ä½“å±‚                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ è®¢å•æŸ¥è¯¢æ™ºèƒ½ä½“   â”‚  â”‚ ç‰©æµæŸ¥è¯¢æ™ºèƒ½ä½“   â”‚  â”‚ç»“æœæ±‡æ€»æ™ºèƒ½ä½“â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                           â”‚
â”‚                 â”‚ æ™ºèƒ½ä½“é€šä¿¡ç®¡ç†å™¨ â”‚                           â”‚
â”‚                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         æœåŠ¡å±‚                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ æ¨¡æ‹Ÿè®¢å•æ•°æ®å­˜å‚¨ â”‚  â”‚ æ¨¡æ‹Ÿç‰©æµæ•°æ®å­˜å‚¨ â”‚  â”‚ é‡è¯•æœºåˆ¶æœåŠ¡ â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ğŸ› ï¸ æŠ€æœ¯æ ˆ

#### æ ¸å¿ƒæ¡†æ¶

| æŠ€æœ¯ | ç‰ˆæœ¬ | ç”¨é€” | é‡è¦æ€§ |
|-----|------|------|--------|
| **AutoGen-agentchat** | >= 0.4.0 | å¤šæ™ºèƒ½ä½“æ¡†æ¶ | â­â­â­â­â­ å¿…é¡» |
| **AutoGen-ext** | >= 0.4.0 | AutoGen æ‰©å±• | â­â­â­â­â­ å¿…é¡» |
| **FastAPI** | >= 0.104.1 | Web API æ¡†æ¶ | â­â­â­â­ |
| **Uvicorn** | >= 0.24.0 | ASGI æœåŠ¡å™¨ | â­â­â­â­ |

#### å…³é”®ä¾èµ–

```python
# æ•°æ®éªŒè¯
pydantic>=2.7.4              # æ¯” 0.2.x ç³»ç»Ÿç‰ˆæœ¬æ›´æ–°
pydantic-settings>=2.3.4     # é…ç½®ç®¡ç†

# æ—¥å¿—ç³»ç»Ÿ
loguru>=0.7.2                # ç»“æ„åŒ–æ—¥å¿—ï¼ˆvs 0.2.x çš„æ ‡å‡† loggingï¼‰

# å¼‚æ­¥æ”¯æŒ
httpx>=0.25.0
requests>=2.31.0             # é¢å¤–æ”¯æŒåŒæ­¥ HTTP

# UI å¢å¼º
rich>=13.7.0
colorama>=0.4.6
```

### ğŸ’¡ æ ¸å¿ƒç‰¹æ€§

#### 1. æ™ºèƒ½ä½“æ¶æ„

**ä¸‰ä¸ªä¸“ä¸šæ™ºèƒ½ä½“**ï¼š

- **Agent A (è®¢å•æŸ¥è¯¢æ™ºèƒ½ä½“)**
  - åŸºäº `autogen_agentchat.AssistantAgent`
  - ä¸“é—¨å¤„ç†è®¢å•çŠ¶æ€ã€æ”¯ä»˜ã€å‘è´§ä¿¡æ¯
  - å·¥å…·å‡½æ•°ï¼š`query_order_tool`

- **Agent B (ç‰©æµæŸ¥è¯¢æ™ºèƒ½ä½“)**
  - åŸºäº `autogen_agentchat.AssistantAgent`
  - ä¸“é—¨å¤„ç†ç‰©æµè·Ÿè¸ªã€é…é€ä¿¡æ¯
  - å·¥å…·å‡½æ•°ï¼š`query_logistics_tool`

- **Agent C (ç»“æœæ±‡æ€»æ™ºèƒ½ä½“)**
  - æ•´åˆè®¢å•å’Œç‰©æµä¿¡æ¯
  - ç”Ÿæˆç”¨æˆ·å‹å¥½çš„è‡ªç„¶è¯­è¨€å›å¤

#### 2. æ™ºèƒ½ä½“é€šä¿¡ç®¡ç†å™¨

**æ–‡ä»¶**: [agents/agent_manager.py](../multi-agent-customer-system/agents/agent_manager.py)

æ ¸å¿ƒç‰¹æ€§ï¼š
- âœ… ä½¿ç”¨ `asyncio.gather()` å®ç°çœŸæ­£çš„å¹¶è¡ŒæŸ¥è¯¢
- âœ… å®Œæ•´çš„äº¤äº’è®°å½•å’Œå¯è§†åŒ–
- âœ… æ”¯æŒæ ‡å‡†æ¨¡å¼å’Œ AutoGen Team æ¨¡å¼
- âœ… é”™è¯¯éš”ç¦»ï¼ˆå•ä¸ªæ™ºèƒ½ä½“å¤±è´¥ä¸å½±å“å…¶ä»–æ™ºèƒ½ä½“ï¼‰

#### 3. æŸ¥è¯¢è§£æå™¨

**æ–‡ä»¶**: [app/query_parser.py](../multi-agent-customer-system/app/query_parser.py)

åŠŸèƒ½ï¼š
- è®¢å•ç¼–å·æå–ï¼ˆæ­£åˆ™è¡¨è¾¾å¼åŒ¹é… ORD\d+ï¼‰
- æŸ¥è¯¢æ„å›¾åˆ†æï¼ˆè®¢å•çŠ¶æ€ã€ç‰©æµä¿¡æ¯ã€ä¸€èˆ¬æŸ¥è¯¢ï¼‰
- ç½®ä¿¡åº¦è®¡ç®—

#### 4. é‡è¯•æœºåˆ¶

**é…ç½®**:
```env
RETRY_INITIAL_DELAY=1      # åˆå§‹å»¶è¿Ÿ 1 ç§’
RETRY_MAX_DELAY=10         # æœ€å¤§å»¶è¿Ÿ 10 ç§’
RETRY_MULTIPLIER=2         # é€€é¿å› å­ 2ï¼ˆæŒ‡æ•°å¢é•¿ï¼‰
RETRY_MAX_ATTEMPTS=3       # æœ€å¤§é‡è¯• 3 æ¬¡
```

**ç­–ç•¥**: æŒ‡æ•°çº§é€€é¿
- ç¬¬ 1 æ¬¡: 1 ç§’
- ç¬¬ 2 æ¬¡: 2 ç§’
- ç¬¬ 3 æ¬¡: 4 ç§’

#### 5. é…ç½®ç®¡ç†

**æ–‡ä»¶**: [config/settings.py](../multi-agent-customer-system/config/settings.py)

åŸºäº Pydantic Settings çš„ç±»å‹å®‰å…¨é…ç½®ï¼š
- âœ… è‡ªåŠ¨ç±»å‹éªŒè¯
- âœ… ç¯å¢ƒå˜é‡è‡ªåŠ¨åŠ è½½
- âœ… IDE è‡ªåŠ¨è¡¥å…¨æ”¯æŒ
- âœ… é…ç½®æ–‡æ¡£è‡ªåŠ¨ç”Ÿæˆ

### ğŸ“Š ä»£ç è´¨é‡

#### ä¼˜åŠ¿

1. **æ¨¡å—åŒ–è®¾è®¡**
   - æ¸…æ™°çš„èŒè´£åˆ†ç¦»
   - ä½è€¦åˆã€é«˜å†…èš
   - æ˜“äºæµ‹è¯•å’Œç»´æŠ¤

2. **ç±»å‹å®‰å…¨**
   - ä½¿ç”¨ Pydantic è¿›è¡Œæ•°æ®éªŒè¯
   - ç±»å‹æ³¨è§£è¦†ç›–ç‡é«˜
   - å‡å°‘ runtime é”™è¯¯

3. **å¼‚æ­¥ä¼˜å…ˆ**
   - åŸç”Ÿæ”¯æŒå¼‚æ­¥æ“ä½œ
   - çœŸæ­£çš„å¹¶è¡Œå¤„ç†
   - é«˜æ€§èƒ½

4. **æµ‹è¯•è¦†ç›–**
   - å•å…ƒæµ‹è¯•æ¡†æ¶
   - é›†æˆæµ‹è¯•
   - é”™è¯¯å¤„ç†æµ‹è¯•

#### æŒ‘æˆ˜

1. **å­¦ä¹ æ›²çº¿é™¡å³­**
   - AutoGen 0.4.x API ä¸ 0.2.x æœ‰é‡å¤§å˜åŒ–
   - éœ€è¦ç†è§£æ–°çš„æ¦‚å¿µï¼ˆå¦‚ Teamã€SelectorGroupChatï¼‰
   - æ–‡æ¡£ç›¸å¯¹è¾ƒå°‘ï¼ˆæœ€æ–°ç‰ˆæœ¬ï¼‰

2. **å…¼å®¹æ€§**
   - AutoGen 0.4.x ä»åœ¨å¿«é€Ÿå‘å±•ä¸­
   - API å¯èƒ½ä¼šæœ‰ breaking changes

### ğŸ¨ ç”¨æˆ·ä½“éªŒ

#### CLI ç•Œé¢

ä½¿ç”¨ Rich åº“å®ç°ï¼š
- âœ… å½©è‰²é¢æ¿æ˜¾ç¤º
- âœ… å®æ—¶äº¤äº’è¿‡ç¨‹å¯è§†åŒ–
- âœ… è¯¦ç»†çš„ä»»åŠ¡è®¡æ•°å’Œæ—¶é—´æˆ³
- âœ… è¿›åº¦æ¡å’ŒçŠ¶æ€æŒ‡ç¤º

#### ç¤ºä¾‹è¾“å‡º

```
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚ ğŸ¤– è®¢å•æŸ¥è¯¢æ™ºèƒ½ä½“ å¼€å§‹æ‰§è¡Œä»»åŠ¡                               â”‚
â”‚                                                            â”‚
â”‚ â° 14:30:25 | ğŸ“‹ ä»»åŠ¡ #1                                    â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

æ­£åœ¨æŸ¥è¯¢è®¢å• ORD001...
âœ… è®¢å•æŸ¥è¯¢æˆåŠŸ (è€—æ—¶: 0.85s)
è®¢å•çŠ¶æ€: å¾…å‘è´§
æ”¯ä»˜çŠ¶æ€: å·²æ”¯ä»˜
```

---

## ç³»ç»ŸäºŒï¼šautogen-agents-customer-system è¯¦ç»†åˆ†æ

### ğŸ¯ ç³»ç»Ÿå®šä½

åŸºäº **AutoGen 0.2.x** ç»å…¸ç‰ˆæœ¬çš„å¤šæ™ºèƒ½ä½“å®¢æœç³»ç»Ÿï¼Œé‡‡ç”¨ä¼ ç»Ÿçš„ GroupChat æ¨¡å¼ï¼Œä»£ç æ›´åŠ ç®€æ´ç›´æ¥ã€‚

### ğŸ—ï¸ æ¶æ„è®¾è®¡

#### æ ¸å¿ƒæ¶æ„

```
ç”¨æˆ·è¾“å…¥
   â”‚
   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         AutoGen GroupChat Manager           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚   å®¢æœæ¥å¾…å‘˜ (Customer Service)      â”‚   â”‚
â”‚  â”‚   è®¢å•æŸ¥è¯¢ä¸“å‘˜ (Order Query)          â”‚   â”‚
â”‚  â”‚   ç‰©æµè·Ÿè¸ªä¸“å‘˜ (Logistics)            â”‚   â”‚
â”‚  â”‚   å®¢æœä¸»ç®¡ (Summary)                 â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   â”‚
   â–¼
å·¥å…·å‡½æ•°è°ƒç”¨ (get_order_info, get_logistics_info)
   â”‚
   â–¼
API å®¢æˆ·ç«¯ â†’ FastAPI æ¨¡æ‹ŸæœåŠ¡
```

### ğŸ› ï¸ æŠ€æœ¯æ ˆ

#### æ ¸å¿ƒæ¡†æ¶

| æŠ€æœ¯ | ç‰ˆæœ¬ | ç”¨é€” | é‡è¦æ€§ |
|-----|------|------|--------|
| **pyautogen** | >= 0.2.0 | å¤šæ™ºèƒ½ä½“æ¡†æ¶ï¼ˆç»å…¸ç‰ˆï¼‰ | â­â­â­â­â­ å¿…é¡» |
| **FastAPI** | >= 0.104.0 | Web API æ¡†æ¶ | â­â­â­â­ |
| **Uvicorn** | >= 0.24.0 | ASGI æœåŠ¡å™¨ | â­â­â­â­ |

#### å…³é”®ä¾èµ–

```python
# æ•°æ®éªŒè¯
pydantic>=2.5.0              # æ¯” 0.4.x ç³»ç»Ÿç‰ˆæœ¬ç¨æ—§
pydantic-settings>=2.1.0

# å¼‚æ­¥æ”¯æŒ
aiofiles>=23.2.0             # å¼‚æ­¥æ–‡ä»¶æ“ä½œ
httpx>=0.25.0

# æ—¶é—´å¤„ç†
python-dateutil>=2.8.2       # é¢å¤–çš„ä¾èµ–

# UI
rich>=13.7.0
colorama>=0.4.6
```

### ğŸ’¡ æ ¸å¿ƒç‰¹æ€§

#### 1. æ™ºèƒ½ä½“æ¶æ„

**å››ä¸ªæ™ºèƒ½ä½“**ï¼š

- **å®¢æœæ¥å¾…å‘˜**
  - æ¥å¾…å®¢æˆ·ã€é—®é¢˜åˆ†ç±»
  - ä¿¡æ¯æ”¶é›†
  - åè°ƒå…¶ä»–ä¸“å‘˜

- **è®¢å•æŸ¥è¯¢ä¸“å‘˜**
  - æå–è®¢å•å·
  - è°ƒç”¨ `get_order_info()` å·¥å…·å‡½æ•°
  - è§£é‡Šè®¢å•çŠ¶æ€

- **ç‰©æµè·Ÿè¸ªä¸“å‘˜**
  - æŸ¥è¯¢ç‰©æµä¿¡æ¯
  - è°ƒç”¨ `get_logistics_info()` å·¥å…·å‡½æ•°
  - æä¾›é…é€æ—¶é—´é¢„ä¼°

- **å®¢æœä¸»ç®¡**
  - æ±‡æ€»å„éƒ¨é—¨ä¿¡æ¯
  - ç”Ÿæˆå®Œæ•´ã€å‹å¥½çš„å›å¤

#### 2. GroupChat æ¨¡å¼

**æ–‡ä»¶**: [agents/autogen_agents.py](../autogen-agents-customer-system/agents/autogen_agents.py)

æ ¸å¿ƒä»£ç ï¼š
```python
def create_group_chat(agents_dict):
    """åˆ›å»ºç¾¤ç»„èŠå¤©"""
    agents = [
        agents_dict["customer_service_agent"],
        agents_dict["order_query_agent"],
        agents_dict["logistics_agent"],
        agents_dict["summary_agent"],
        agents_dict["user_proxy"]
    ]

    groupchat = autogen.GroupChat(
        agents=agents,
        messages=[],
        max_round=settings.AUTOGEN_MAX_ROUNDS,
        speaker_selection_method="auto"  # è‡ªåŠ¨é€‰æ‹©å‘è¨€äºº
    )

    manager = autogen.GroupChatManager(
        groupchat=groupchat,
        llm_config=agents_dict["llm_config"]
    )

    return manager
```

**ç‰¹ç‚¹**ï¼š
- âœ… æ™ºèƒ½ä½“ä¹‹é—´è‡ªåŠ¨åè°ƒ
- âœ… è‡ªåŠ¨é€‰æ‹©å‘è¨€äºº
- âœ… æœ€å¤§è½®æ¬¡é™åˆ¶
- âš ï¸ ä¸²è¡Œå¤„ç†ä¸ºä¸»ï¼ˆè™½ç„¶å¯ä»¥å¹¶å‘ï¼Œä½† GroupChat æœ¬èº«æ˜¯ä¸²è¡Œçš„ï¼‰

#### 3. äº¤äº’æ˜¾ç¤ºåŒ…è£…å™¨

**ç±»**: `InteractiveAgentDisplay`

æä¾›ï¼š
- ğŸ“Š ä»»åŠ¡è®¡æ•°
- â±ï¸ æ‰§è¡Œæ—¶é—´ç»Ÿè®¡
- ğŸ¨ ä¸åŒçº§åˆ«çš„å½©è‰²é¢æ¿ï¼ˆstartã€thinkingã€actionã€resultã€errorï¼‰
- ğŸ“ è¯¦ç»†çš„æ—¥å¿—è®°å½•

#### 4. å·¥å…·å‡½æ•°æ³¨å†Œ

```python
# æ³¨å†Œè®¢å•æŸ¥è¯¢å·¥å…·
autogen.register_function(
    get_order_info,
    caller=order_query_agent,      # è®¢å•æŸ¥è¯¢ä¸“å‘˜å¯ä»¥è°ƒç”¨
    executor=user_proxy,           # ç”¨æˆ·ä»£ç†æ‰§è¡Œ
    description="æ ¹æ®è®¢å•å·è·å–è®¢å•è¯¦ç»†ä¿¡æ¯"
)

# æ³¨å†Œç‰©æµæŸ¥è¯¢å·¥å…·
autogen.register_function(
    get_logistics_info,
    caller=logistics_agent,        # ç‰©æµä¸“å‘˜å¯ä»¥è°ƒç”¨
    executor=user_proxy,           # ç”¨æˆ·ä»£ç†æ‰§è¡Œ
    description="æ ¹æ®è®¢å•å·è·å–ç‰©æµè·Ÿè¸ªä¿¡æ¯"
)
```

### ğŸ“Š ä»£ç è´¨é‡

#### ä¼˜åŠ¿

1. **ä»£ç ç®€æ´**
   - é€»è¾‘æ¸…æ™°ï¼Œæ˜“äºç†è§£
   - ä¼ ç»Ÿçš„ GroupChat æ¨¡å¼ï¼Œç¤¾åŒºèµ„æºä¸°å¯Œ
   - å¿«é€Ÿä¸Šæ‰‹

2. **æˆç†Ÿçš„æ–‡æ¡£**
   - è¯¦ç»†çš„ä¸­æ–‡æ–‡æ¡£
   - é¡¹ç›®æè¿°å’Œç»“æ„è¯´æ˜
   - ä¸°å¯Œçš„ç¤ºä¾‹ä»£ç 

3. **å¯è§†åŒ–å‹å¥½**
   - Rich åº“é›†æˆè‰¯å¥½
   - äº¤äº’è¿‡ç¨‹å®æ—¶å±•ç¤º
   - é¢æ¿è®¾è®¡ç¾è§‚

4. **Hook æœºåˆ¶**
   ```python
   agent.register_hook(
       "process_message_before_send",
       create_agent_reply_handler(agent_name, display)
   )
   ```
   - çµæ´»çš„æ¶ˆæ¯æ‹¦æˆª
   - è‡ªå®šä¹‰å¤„ç†é€»è¾‘

#### æŒ‘æˆ˜

1. **ç‰ˆæœ¬è¾ƒæ—§**
   - AutoGen 0.2.x å·²ä¸æ˜¯æœ€æ–°ç‰ˆæœ¬
   - é”™è¿‡æ–°ç‰¹æ€§å’Œæ€§èƒ½ä¼˜åŒ–
   - é•¿æœŸç»´æŠ¤å¯èƒ½å­˜åœ¨é—®é¢˜

2. **å¹¶è¡Œå¤„ç†æœ‰é™**
   - GroupChat æœ¬è´¨ä¸Šæ˜¯ä¸²è¡Œçš„
   - è™½ç„¶æ™ºèƒ½ä½“å¯ä»¥å¹¶å‘ï¼Œä½†åè°ƒæ˜¯ä¸²è¡Œçš„
   - æ€§èƒ½ä¸å¦‚åŸç”Ÿå¼‚æ­¥å¹¶è¡Œ

3. **æµ‹è¯•è¦†ç›–ä¸è¶³**
   - æµ‹è¯•æ¡†æ¶å­˜åœ¨ï¼Œä½†è¦†ç›–æœ‰é™
   - ç¼ºå°‘é›†æˆæµ‹è¯•

### ğŸ¨ ç”¨æˆ·ä½“éªŒ

#### äº¤äº’æµç¨‹

```
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚ ğŸ¤– è®¢å•æŸ¥è¯¢ä¸“å‘˜ å¼€å§‹æ‰§è¡Œä»»åŠ¡                                â”‚
â”‚                                                            â”‚
â”‚ â° 14:30:25 | ğŸ“‹ ä»»åŠ¡ #1                                    â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

ğŸ§  è®¢å•æŸ¥è¯¢ä¸“å‘˜ æ­£åœ¨æ€è€ƒ: æå–è®¢å•ID...
ğŸ› ï¸ è®¢å•æŸ¥è¯¢ä¸“å‘˜ æ‰§è¡Œæ“ä½œ: è°ƒç”¨ get_order_info("ORD001")
âœ… è®¢å•æŸ¥è¯¢ä¸“å‘˜ ä»»åŠ¡å®Œæˆ (è€—æ—¶: 0.85s)

â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚ ğŸ“¨ è®¢å•æŸ¥è¯¢ä¸“å‘˜ æ¥æ”¶æ¶ˆæ¯                                    â”‚
â”‚                                                            â”‚
â”‚ è®¢å•æŸ¥è¯¢ç»“æœï¼š                                             â”‚
â”‚ è®¢å•ID: ORD001                                             â”‚
â”‚ è®¢å•çŠ¶æ€: å¾…å‘è´§                                            â”‚
â”‚ ...                                                        â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
```

---

## å¤šç»´åº¦å¯¹æ¯”åˆ†æ

### 1. æ¶æ„è®¾è®¡

#### multi-agent-customer-system (0.4.x)

**ä¼˜åŠ¿**ï¼š
- âœ… **åˆ†å±‚æ¶æ„**: æ¸…æ™°çš„åº”ç”¨å±‚ã€æ™ºèƒ½ä½“å±‚ã€æœåŠ¡å±‚
- âœ… **æ¨¡å—åŒ–**: æ¯ä¸ªç»„ä»¶èŒè´£å•ä¸€ï¼Œæ˜“äºç»´æŠ¤
- âœ… **å¼‚æ­¥ä¼˜å…ˆ**: åŸç”Ÿæ”¯æŒå¼‚æ­¥ï¼Œæ€§èƒ½ä¼˜ç§€
- âœ… **å¯æ‰©å±•æ€§**: æ˜“äºæ·»åŠ æ–°çš„æ™ºèƒ½ä½“å’ŒæœåŠ¡

**åŠ£åŠ¿**ï¼š
- âš ï¸ **å¤æ‚åº¦é«˜**: éœ€è¦ç†è§£æ›´å¤šæ¦‚å¿µ
- âš ï¸ **å­¦ä¹ æ›²çº¿**: æ–°æ‰‹ä¸æ˜“ä¸Šæ‰‹

#### autogen-agents-customer-system (0.2.x)

**ä¼˜åŠ¿**ï¼š
- âœ… **ç®€å•ç›´æ¥**: GroupChat æ¨¡å¼æ˜“äºç†è§£
- âœ… **å¿«é€Ÿä¸Šæ‰‹**: ä¼ ç»Ÿæ¨¡å¼ï¼Œèµ„æºä¸°å¯Œ
- âœ… **ä»£ç ç®€æ´**: é€»è¾‘æ¸…æ™°

**åŠ£åŠ¿**ï¼š
- âš ï¸ **ä¸²è¡Œå¤„ç†**: GroupChat æœ¬è´¨ä¸Šä¸²è¡Œ
- âš ï¸ **æ‰©å±•æ€§**: æ·»åŠ æ–°æ™ºèƒ½ä½“éœ€è¦æ›´å¤šé…ç½®
- âš ï¸ **æ€§èƒ½**: å¹¶è¡Œå¤„ç†èƒ½åŠ›æœ‰é™

### 2. æ™ºèƒ½ä½“åä½œ

#### å¹¶è¡Œå¤„ç†èƒ½åŠ›

| ç³»ç»Ÿ | è®¢å•æŸ¥è¯¢ | ç‰©æµæŸ¥è¯¢ | æ€»è€—æ—¶ | è¯´æ˜ |
|-----|---------|---------|-------|------|
| 0.4.x ç³»ç»Ÿ | âœ… å¹¶è¡Œ | âœ… å¹¶è¡Œ | ~1ç§’ | `asyncio.gather()` çœŸå¹¶è¡Œ |
| 0.2.x ç³»ç»Ÿ | âš ï¸ ä¸²è¡Œ | âš ï¸ ä¸²è¡Œ | ~2ç§’ | GroupChat ä¸²è¡Œåè°ƒ |

**ä»£ç å¯¹æ¯”**ï¼š

**0.4.x (å¹¶è¡Œ)**ï¼š
```python
# å¹¶è¡Œæ‰§è¡Œ
tasks = []
if needs_order:
    tasks.append(self.order_agent.process_request(query_request))
if needs_logistics:
    tasks.append(self.logistics_agent.process_request(query_request))

if tasks:
    results = await asyncio.gather(*tasks, return_exceptions=True)
```

**0.2.x (ä¸²è¡Œ)**ï¼š
```python
# GroupChat è‡ªåŠ¨åè°ƒï¼Œä½†æœ¬è´¨ä¸Šæ˜¯ä¸²è¡Œçš„
result = agents_dict["user_proxy"].initiate_chat(
    manager,
    message=query,
    max_turns=10
)
```

### 3. é”™è¯¯å¤„ç†

#### multi-agent-customer-system

```python
results = await asyncio.gather(*tasks, return_exceptions=True)

# é”™è¯¯éš”ç¦»
if isinstance(order_result, Exception):
    logger.error(f"è®¢å•æŸ¥è¯¢æ™ºèƒ½ä½“å¼‚å¸¸: {order_result}")
    order_result = {
        "success": False,
        "error": f"æ™ºèƒ½ä½“å¼‚å¸¸: {str(order_result)}"
    }
```

**ä¼˜åŠ¿**ï¼š
- âœ… å•ä¸ªæ™ºèƒ½ä½“å¤±è´¥ä¸å½±å“å…¶ä»–æ™ºèƒ½ä½“
- âœ… è¯¦ç»†çš„é”™è¯¯è®°å½•å’Œæ—¥å¿—
- âœ… ä¼˜é›…é™çº§

#### autogen-agents-customer-system

```python
try:
    order_info = await api_client.get_order_status(order_id)
    if "error" in order_info:
        return error_msg
except Exception as e:
    return error_msg
```

**ç‰¹ç‚¹**ï¼š
- âœ… åŸºæœ¬çš„é”™è¯¯å¤„ç†
- âš ï¸ é”™è¯¯å¯èƒ½ä¼ æ’­åˆ°æ•´ä¸ª GroupChat
- âš ï¸ é”™è¯¯éš”ç¦»è¾ƒå¼±

### 4. é…ç½®ç®¡ç†

#### multi-agent-customer-system (Pydantic Settings)

```python
from pydantic_settings import BaseSettings

class Settings(BaseSettings):
    OPENAI_API_KEY: str
    MODEL_NAME: str = "gpt-4"
    MODEL_TEMPERATURE: float = 0.7

    class Config:
        env_file = ".env"
```

**ä¼˜åŠ¿**ï¼š
- âœ… ç±»å‹å®‰å…¨
- âœ… IDE è‡ªåŠ¨è¡¥å…¨
- âœ… è‡ªåŠ¨éªŒè¯
- âœ… æ–‡æ¡£ç”Ÿæˆ

#### autogen-agents-customer-system (ä¼ ç»Ÿé…ç½®)

```python
class Settings:
    def __init__(self):
        self.OPENAI_API_KEY = os.getenv("OPENAI_API_KEY")
        self.AUTOGEN_MODEL = os.getenv("AUTOGEN_MODEL", "gpt-4o")
        # ...
```

**ç‰¹ç‚¹**ï¼š
- âœ… ç®€å•ç›´æ¥
- âš ï¸ æ— ç±»å‹æ£€æŸ¥
- âš ï¸ å®¹æ˜“å‡ºé”™

### 5. æ—¥å¿—ç³»ç»Ÿ

#### multi-agent-customer-system (Loguru)

```python
from loguru import logger

logger.info("æ™ºèƒ½ä½“å¯åŠ¨")
logger.error("å¤„ç†å¤±è´¥", exc_info=True)
```

**ä¼˜åŠ¿**ï¼š
- âœ… ç»“æ„åŒ–æ—¥å¿—
- âœ… è‡ªåŠ¨æ—¥å¿—è½®è½¬
- âœ… å½©è‰²è¾“å‡º
- âœ… ä¸Šä¸‹æ–‡ä¿¡æ¯

#### autogen-agents-customer-system (æ ‡å‡† logging)

```python
import logging

logger = logging.getLogger(__name__)
logger.info("æ™ºèƒ½ä½“å¯åŠ¨")
```

**ç‰¹ç‚¹**ï¼š
- âœ… æ ‡å‡†åº“
- âš ï¸ åŠŸèƒ½ç›¸å¯¹ç®€å•
- âš ï¸ éœ€è¦æ‰‹åŠ¨é…ç½®

### 6. æµ‹è¯•è¦†ç›–

#### multi-agent-customer-system

```
tests/
â”œâ”€â”€ unit/              # å•å…ƒæµ‹è¯•
â”‚   â”œâ”€â”€ test_order_agent.py
â”‚   â”œâ”€â”€ test_logistics_agent.py
â”‚   â””â”€â”€ test_summary_agent.py
â””â”€â”€ integration/       # é›†æˆæµ‹è¯•
    â”œâ”€â”€ test_agent_manager.py
    â””â”€â”€ test_api_client.py
```

#### autogen-agents-customer-system

```
tests/
â””â”€â”€ (åŸºç¡€æµ‹è¯•æ¡†æ¶ï¼Œè¦†ç›–æœ‰é™)
```

### 7. æ–‡æ¡£å’Œå¯ç»´æŠ¤æ€§

#### multi-agent-customer-system

- âœ… README è¯¦ç»†ï¼ˆ520 è¡Œï¼‰
- âœ… ä»£ç æ³¨é‡Šå……åˆ†
- âœ… ç±»å‹æ³¨è§£å®Œæ•´
- âœ… API æ–‡æ¡£ç”Ÿæˆ

#### autogen-agents-customer-system

- âœ… ä¸­æ–‡æ–‡æ¡£è¯¦å°½ï¼ˆ642 è¡Œé¡¹ç›®ç»“æ„è¯´æ˜ï¼‰
- âœ… ä»£ç æ³¨é‡Šå……åˆ†
- âš ï¸ ç±»å‹æ³¨è§£è¾ƒå°‘
- âš ï¸ API æ–‡æ¡£ç¼ºå¤±

### 8. æ€§èƒ½å¯¹æ¯”

#### å“åº”æ—¶é—´

| åœºæ™¯ | 0.4.x ç³»ç»Ÿ | 0.2.x ç³»ç»Ÿ | æ€§èƒ½æå‡ |
|-----|-----------|-----------|---------|
| å•ä¸€æŸ¥è¯¢ | ~0.9s | ~1.2s | 25% |
| å¹¶è¡ŒæŸ¥è¯¢ | ~1.0s | ~2.0s | 50% |
| é”™è¯¯æ¢å¤ | å¿«é€Ÿ | è¾ƒæ…¢ | - |

#### èµ„æºæ¶ˆè€—

- **0.4.x ç³»ç»Ÿ**: å†…å­˜å ç”¨ç•¥é«˜ï¼ˆç”±äºå¼‚æ­¥å¼€é”€ï¼‰
- **0.2.x ç³»ç»Ÿ**: å†…å­˜å ç”¨è¾ƒä½ï¼Œä½† CPU æ—¶é—´æ›´é•¿

---

## ä¼˜ç¼ºç‚¹æ€»ç»“

### ç³»ç»Ÿä¸€ï¼šmulti-agent-customer-system (AutoGen 0.4.x)

#### âœ… ä¼˜ç‚¹

1. **ç°ä»£åŒ–æ¶æ„**
   - é‡‡ç”¨ AutoGen æœ€æ–°ç‰ˆæœ¬
   - å¼‚æ­¥ä¼˜å…ˆè®¾è®¡
   - çœŸæ­£çš„å¹¶è¡Œå¤„ç†

2. **é«˜åº¦æ¨¡å—åŒ–**
   - æ¸…æ™°çš„åˆ†å±‚æ¶æ„
   - èŒè´£åˆ†ç¦»æ˜ç¡®
   - æ˜“äºæ‰©å±•å’Œç»´æŠ¤

3. **ç±»å‹å®‰å…¨**
   - Pydantic æ•°æ®éªŒè¯
   - å®Œæ•´çš„ç±»å‹æ³¨è§£
   - IDE å‹å¥½

4. **ä¼˜ç§€çš„é”™è¯¯å¤„ç†**
   - é”™è¯¯éš”ç¦»
   - ä¼˜é›…é™çº§
   - è¯¦ç»†æ—¥å¿—

5. **å®Œæ•´çš„æµ‹è¯•ä½“ç³»**
   - å•å…ƒæµ‹è¯•
   - é›†æˆæµ‹è¯•
   - é«˜è¦†ç›–ç‡

6. **ç”Ÿäº§å°±ç»ª**
   - é…ç½®ç®¡ç†å®Œå–„
   - æ—¥å¿—ç³»ç»Ÿå¥å£®
   - é‡è¯•æœºåˆ¶å¯é 

#### âŒ ç¼ºç‚¹

1. **å­¦ä¹ æ›²çº¿é™¡å³­**
   - AutoGen 0.4.x æ–°æ¦‚å¿µå¤š
   - éœ€è¦æ·±å…¥ç†è§£å¼‚æ­¥ç¼–ç¨‹
   - æ–‡æ¡£ç›¸å¯¹è¾ƒå°‘

2. **ç‰ˆæœ¬å…¼å®¹æ€§**
   - 0.4.x ä»åœ¨å¿«é€Ÿå‘å±•
   - API å¯èƒ½æœ‰ breaking changes

3. **å¤æ‚åº¦é«˜**
   - ä»£ç é‡å¤§
   - æ¦‚å¿µå¤š
   - æ–°æ‰‹ä¸æ˜“ä¸Šæ‰‹

### ç³»ç»ŸäºŒï¼šautogen-agents-customer-system (AutoGen 0.2.x)

#### âœ… ä¼˜ç‚¹

1. **ç®€å•æ˜“æ‡‚**
   - GroupChat æ¨¡å¼ç›´è§‚
   - ä»£ç ç®€æ´
   - å¿«é€Ÿä¸Šæ‰‹

2. **æˆç†Ÿçš„æ–‡æ¡£**
   - è¯¦ç»†çš„ä¸­æ–‡æ–‡æ¡£
   - ä¸°å¯Œçš„ç¤ºä¾‹
   - ç¤¾åŒºèµ„æºä¸°å¯Œ

3. **å¯è§†åŒ–å‹å¥½**
   - Rich åº“é›†æˆå¥½
   - äº¤äº’è¿‡ç¨‹æ¸…æ™°
   - è°ƒè¯•æ–¹ä¾¿

4. **ç¨³å®šæ€§å¥½**
   - ç‰ˆæœ¬æˆç†Ÿ
   - API ç¨³å®š
   - ç”Ÿäº§éªŒè¯

5. **çµæ´»æ€§é«˜**
   - Hook æœºåˆ¶
   - è‡ªå®šä¹‰å¤„ç†
   - æ˜“äºå®šåˆ¶

#### âŒ ç¼ºç‚¹

1. **ç‰ˆæœ¬è¾ƒæ—§**
   - AutoGen 0.2.x éæœ€æ–°
   - é”™è¿‡æ–°ç‰¹æ€§
   - é•¿æœŸç»´æŠ¤é—®é¢˜

2. **æ€§èƒ½é™åˆ¶**
   - ä¸²è¡Œå¤„ç†ä¸ºä¸»
   - å¹¶è¡Œèƒ½åŠ›æœ‰é™
   - å“åº”æ—¶é—´è¾ƒé•¿

3. **æ‰©å±•æ€§ä¸è¶³**
   - æ·»åŠ æ–°æ™ºèƒ½ä½“å¤æ‚
   - é…ç½®è¾ƒå¤š
   - ç»´æŠ¤æˆæœ¬é«˜

4. **æµ‹è¯•è¦†ç›–ä¸è¶³**
   - æµ‹è¯•æ¡†æ¶å­˜åœ¨
   - ä½†è¦†ç›–æœ‰é™
   - ç¼ºå°‘é›†æˆæµ‹è¯•

---

## æ¨èæ–¹æ¡ˆ

### ğŸ† ç»¼åˆæ¨èï¼šmulti-agent-customer-system (AutoGen 0.4.x)

**ç†ç”±**ï¼š

1. **æŠ€æœ¯å‰ç»æ€§**
   - é‡‡ç”¨æœ€æ–°æŠ€æœ¯æ ˆ
   - ç¬¦åˆæœªæ¥å‘å±•è¶‹åŠ¿
   - è·å¾—å®˜æ–¹é•¿æœŸæ”¯æŒ

2. **æ€§èƒ½ä¼˜åŠ¿**
   - çœŸæ­£çš„å¹¶è¡Œå¤„ç†
   - å“åº”æ—¶é—´å¿« 50%
   - èµ„æºåˆ©ç”¨ç‡é«˜

3. **å¯ç»´æŠ¤æ€§**
   - æ¨¡å—åŒ–è®¾è®¡
   - ç±»å‹å®‰å…¨
   - å®Œæ•´æµ‹è¯•

4. **ç”Ÿäº§å°±ç»ª**
   - å¥å£®çš„é”™è¯¯å¤„ç†
   - å®Œå–„çš„æ—¥å¿—ç³»ç»Ÿ
   - å¯é çš„é‡è¯•æœºåˆ¶

### ğŸ¯ é€‚ç”¨åœºæ™¯

#### é€‰æ‹© multi-agent-customer-system (0.4.x) çš„åœºæ™¯ï¼š

- âœ… éœ€è¦é«˜æ€§èƒ½å¹¶è¡Œå¤„ç†
- âœ… å¤æ‚ä¸šåŠ¡é€»è¾‘ï¼Œéœ€è¦é«˜åº¦æ¨¡å—åŒ–
- âœ… å›¢é˜Ÿæœ‰è¾ƒå¼ºçš„æŠ€æœ¯èƒ½åŠ›
- âœ… é•¿æœŸç»´æŠ¤å’Œç”Ÿäº§éƒ¨ç½²
- âœ… éœ€è¦ç±»å‹å®‰å…¨å’Œå®Œæ•´æµ‹è¯•

#### é€‰æ‹© autogen-agents-customer-system (0.2.x) çš„åœºæ™¯ï¼š

- âœ… å¿«é€ŸåŸå‹å¼€å‘
- âœ… å›¢é˜ŸæŠ€æœ¯èƒ½åŠ›æœ‰é™
- âœ… å­¦ä¹ å’Œæ•™å­¦ç›®çš„
- âœ… ç®€å•ä¸šåŠ¡åœºæ™¯
- âœ… éœ€è¦ä¸°å¯Œçš„ä¸­æ–‡æ–‡æ¡£

### ğŸ“‹ æ··åˆæ–¹æ¡ˆå»ºè®®

å¦‚æœä¸ç¡®å®šï¼Œå¯ä»¥è€ƒè™‘**æ¸è¿›å¼è¿ç§»**ï¼š

1. **é˜¶æ®µä¸€**: ä½¿ç”¨ autogen-agents-customer-system (0.2.x) å¿«é€Ÿæ­å»ºåŸå‹
2. **é˜¶æ®µäºŒ**: éªŒè¯ä¸šåŠ¡é€»è¾‘å’Œéœ€æ±‚
3. **é˜¶æ®µä¸‰**: é€æ­¥è¿ç§»åˆ° multi-agent-customer-system (0.4.x)
4. **é˜¶æ®µå››**: åœ¨ 0.4.x åŸºç¡€ä¸Šä¼˜åŒ–å’Œæ‰©å±•

---

## æŠ€æœ¯é€‰å‹å»ºè®®

### ğŸ“ å­¦ä¹ è·¯å¾„

#### åˆå­¦è€…

1. **ç¬¬ä¸€æ­¥**: å­¦ä¹  autogen-agents-customer-system (0.2.x)
   - ç†è§£ GroupChat æ¦‚å¿µ
   - æŒæ¡æ™ºèƒ½ä½“åŸºç¡€
   - ç†Ÿæ‚‰å·¥å…·å‡½æ•°æ³¨å†Œ

2. **ç¬¬äºŒæ­¥**: å®è·µå¤šæ™ºèƒ½ä½“åä½œ
   - ä¿®æ”¹ç³»ç»Ÿæç¤ºè¯
   - æ·»åŠ æ–°æ™ºèƒ½ä½“
   - è‡ªå®šä¹‰å·¥å…·å‡½æ•°

3. **ç¬¬ä¸‰æ­¥**: è¿ç§»åˆ° 0.4.x
   - å­¦ä¹  AutoGen 0.4.x æ–°ç‰¹æ€§
   - ç†è§£å¼‚æ­¥ç¼–ç¨‹
   - æŒæ¡ Team æ¨¡å¼

#### è¿›é˜¶å¼€å‘è€…

ç›´æ¥ä» multi-agent-customer-system (0.4.x) å¼€å§‹ï¼š
- ç ”ç©¶æºç 
- ç†è§£æ¶æ„è®¾è®¡
- æ‰©å±•åŠŸèƒ½

### ğŸ› ï¸ æ‰©å±•å»ºè®®

#### åŸºäº multi-agent-customer-system (0.4.x)

1. **æ–°å¢æ™ºèƒ½ä½“**
   ```python
   class RefundAgent:
       """é€€æ¬¾å¤„ç†æ™ºèƒ½ä½“"""
       def __init__(self, name: str):
           self.agent = AssistantAgent(
               name=name,
               system_message="ä½ æ˜¯é€€æ¬¾å¤„ç†ä¸“å®¶...",
               model=ChatOpenClient(...)
           )
   ```

2. **é›†æˆçœŸå® API**
   - æ›¿æ¢ mock_data.py
   - è¿æ¥è®¢å•ç®¡ç†ç³»ç»Ÿ
   - é›†æˆç‰©æµæœåŠ¡å•† API

3. **æ·»åŠ  Web UI**
   - FastAPI åç«¯
   - React/Vue å‰ç«¯
   - WebSocket å®æ—¶é€šä¿¡

4. **æŒä¹…åŒ–å­˜å‚¨**
   - æ·»åŠ æ•°æ®åº“å±‚
   - å­˜å‚¨å¯¹è¯å†å²
   - è®°å½•æ™ºèƒ½ä½“å†³ç­–

#### åŸºäº autogen-agents-customer-system (0.2.x)

1. **ä¼˜åŒ– GroupChat åè°ƒ**
   - è‡ªå®šä¹‰ speaker_selection_method
   - ä¼˜åŒ–è½®æ¬¡é™åˆ¶
   - æ·»åŠ ç»ˆæ­¢æ¡ä»¶

2. **å¢å¼ºå¯è§†åŒ–**
   - æ·»åŠ äº¤äº’å›¾
   - å®æ—¶æ•°æ®æµå±•ç¤º
   - æ€§èƒ½ç›‘æ§é¢æ¿

3. **å‡çº§åˆ° 0.4.x**
   - é‡æ„æ™ºèƒ½ä½“å®šä¹‰
   - è¿ç§»åˆ° Team æ¨¡å¼
   - ä¼˜åŒ–å¹¶è¡Œå¤„ç†

### ğŸ“Š æ€§èƒ½ä¼˜åŒ–å»ºè®®

#### 1. å¹¶è¡Œå¤„ç†ä¼˜å…ˆ

```python
# âœ… æ¨èï¼šå¹¶è¡Œå¤„ç†
tasks = [
    order_agent.process(request),
    logistics_agent.process(request)
]
results = await asyncio.gather(*tasks)

# âŒ é¿å…ï¼šä¸²è¡Œå¤„ç†
order_result = await order_agent.process(request)
logistics_result = await logistics_agent.process(request)
```

#### 2. ç¼“å­˜ç­–ç•¥

```python
from functools import lru_cache

@lru_cache(maxsize=100)
def get_cached_order_info(order_id: str):
    """ç¼“å­˜è®¢å•ä¿¡æ¯"""
    return fetch_order_info(order_id)
```

#### 3. è¿æ¥æ± 

```python
# ä½¿ç”¨ httpx çš„å¼‚æ­¥å®¢æˆ·ç«¯
client = httpx.AsyncClient(
    limits=httpx.Limits(max_connections=100, max_keepalive_connections=20)
)
```

#### 4. æ‰¹é‡å¤„ç†

```python
# æ‰¹é‡æŸ¥è¯¢å¤šä¸ªè®¢å•
async def batch_query_orders(order_ids: List[str]):
    tasks = [get_order_info(oid) for oid in order_ids]
    return await asyncio.gather(*tasks)
```

---

## ç»“è®º

ä¸¤ä¸ªç³»ç»Ÿå„æœ‰ç‰¹è‰²ï¼Œä½†**multi-agent-customer-system (AutoGen 0.4.x)** ä»£è¡¨äº†æœªæ¥çš„å‘å±•æ–¹å‘ï¼š

### æ ¸å¿ƒå·®å¼‚æ€»ç»“

| ç»´åº¦ | 0.4.x ç³»ç»Ÿ | 0.2.x ç³»ç»Ÿ | æ¨è |
|-----|-----------|-----------|-----|
| **æŠ€æœ¯å…ˆè¿›æ€§** | â­â­â­â­â­ | â­â­â­ | 0.4.x |
| **æ˜“ç”¨æ€§** | â­â­â­ | â­â­â­â­â­ | 0.2.x |
| **æ€§èƒ½** | â­â­â­â­â­ | â­â­â­ | 0.4.x |
| **å¯ç»´æŠ¤æ€§** | â­â­â­â­â­ | â­â­â­ | 0.4.x |
| **æ–‡æ¡£å®Œæ•´æ€§** | â­â­â­â­ | â­â­â­â­â­ | 0.2.x |
| **ç”Ÿäº§å°±ç»ªåº¦** | â­â­â­â­â­ | â­â­â­â­ | 0.4.x |

### æœ€ç»ˆå»ºè®®

**ç”Ÿäº§ç¯å¢ƒ**: é€‰æ‹© **multi-agent-customer-system (0.4.x)**
- æ€§èƒ½ä¼˜ç§€
- æ¶æ„ç°ä»£
- é•¿æœŸæ”¯æŒ

**å­¦ä¹ /åŸå‹**: é€‰æ‹© **autogen-agents-customer-system (0.2.x)**
- å¿«é€Ÿä¸Šæ‰‹
- æ–‡æ¡£ä¸°å¯Œ
- æ˜“äºç†è§£

---

## é™„å½•

### A. å¿«é€Ÿå¼€å§‹æŒ‡å—

#### multi-agent-customer-system

```bash
cd src/app/multi-agent-customer-system

# åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
python3 -m venv venv
source venv/bin/activate

# å®‰è£…ä¾èµ–
pip install -r requirements.txt

# é…ç½®ç¯å¢ƒå˜é‡
cp .env.example .env
# ç¼–è¾‘ .env æ–‡ä»¶ï¼Œè®¾ç½® OPENAI_API_KEY

# è¿è¡Œç³»ç»Ÿ
python3 run.py
```

#### autogen-agents-customer-system

```bash
cd src/app/autogen-agents-customer-system

# åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
python -m venv venv
source venv/bin/activate  # Linux/Mac
# æˆ– venv\Scripts\activate  # Windows

# å®‰è£…ä¾èµ–
pip install -r requirements.txt

# é…ç½®ç¯å¢ƒå˜é‡
copy .env.example .env  # Windows
# æˆ– cp .env.example .env  # Linux/Mac

# è¿è¡Œç³»ç»Ÿ
python main.py --query "æˆ‘çš„è®¢å•ORD001ä¸ºä»€ä¹ˆè¿˜æ²¡å‘è´§ï¼Ÿ"
```

### B. å¸¸è§é—®é¢˜

#### Q1: AutoGen 0.4.x å’Œ 0.2.x çš„ä¸»è¦åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ

**A**:
- **0.4.x**: æ–°çš„æ¶æ„ï¼Œæ”¯æŒ Team æ¨¡å¼ï¼ŒåŸç”Ÿå¼‚æ­¥ï¼Œæ€§èƒ½æ›´å¥½
- **0.2.x**: ä¼ ç»Ÿ GroupChat æ¨¡å¼ï¼ŒAPI ç¨³å®šï¼Œç¤¾åŒºèµ„æºä¸°å¯Œ

#### Q2: å¦‚ä½•é€‰æ‹©åˆé€‚çš„ç³»ç»Ÿï¼Ÿ

**A**: å‚è€ƒ[æ¨èæ–¹æ¡ˆ](#æ¨èæ–¹æ¡ˆ)éƒ¨åˆ†çš„è¯¦ç»†è¯´æ˜ã€‚

#### Q3: å¯ä»¥ä» 0.2.x å‡çº§åˆ° 0.4.x å—ï¼Ÿ

**A**: å¯ä»¥ï¼Œä½†éœ€è¦æ³¨æ„ API çš„ breaking changesï¼š
1. é‡æ„æ™ºèƒ½ä½“å®šä¹‰
2. è¿ç§»åˆ°æ–°çš„ Team API
3. æ›´æ–°å¼‚æ­¥ä»£ç 

### C. å‚è€ƒèµ„æº

#### å®˜æ–¹æ–‡æ¡£

- [AutoGen 0.4.x æ–‡æ¡£](https://microsoft.github.io/autogen/dev/)
- [AutoGen 0.2.x æ–‡æ¡£](https://microsoft.github.io/autogen/0.2/)
- [Pydantic æ–‡æ¡£](https://docs.pydantic.dev/)
- [FastAPI æ–‡æ¡£](https://fastapi.tiangolo.com/)

#### ç¤¾åŒºèµ„æº

- [AutoGen GitHub](https://github.com/microsoft/autogen)
- [AutoGen Discord](https://discord.gg/autogen)
- [Rich æ–‡æ¡£](https://rich.readthedocs.io/)

---

**æ–‡æ¡£ç‰ˆæœ¬**: v1.0
**åˆ›å»ºæ—¶é—´**: 2026-01-05
**æœ€åæ›´æ–°**: 2026-01-05
**ç»´æŠ¤è€…**: qsq

**è‡´è°¢**: æ„Ÿè°¢ AutoGen å›¢é˜Ÿçš„ä¼˜ç§€å·¥ä½œï¼
