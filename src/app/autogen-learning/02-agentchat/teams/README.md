# 团队协作 (Teams)

本目录包含 AutoGen AgentChat 中团队协作的示例，展示如何使用 Team 模式来组织和管理多个 Agent 的协作。

## 学习目标

通过本章节的学习，你将掌握：
- 如何创建和管理 Agent 团队
- RoundRobin 团队模式的使用
- Selector 团队模式的使用
- 自定义团队工作流
- 团队中的角色分配和协作

## 示例列表

### Demo 26: RoundRobin 团队 (`demo_26_roundrobin_team.py`)

展示轮询式的团队协作：
- Agent 按顺序轮流发言
- 每个 Agent 有机会表达观点
- 适用于需要充分讨论的场景
- 自动管理发言顺序

**适用场景**：
- 头脑风暴
- 多角度讨论
- 需要平衡发言机会
- 民主式决策

### Demo 27: Selector 团队 (`demo_27_selector_team.py`)

展示选择式的团队协作：
- 根据任务选择最合适的 Agent
- 智能路由和分配
- 基于 Agent 描述和任务匹配
- 高效的资源配置

**适用场景**：
- 专业领域分工
- 任务分发
- 专家咨询
- 条件路由

### Demo 28: 自定义团队 (`demo_28_custom_team.py`)

展示自定义团队工作流：
- 创建自定义的团队逻辑
- 灵活控制 Agent 交互
- 实现特定的协作模式
- 集成复杂的业务逻辑

**适用场景**：
- 特定业务流程
- 复杂的协作逻辑
- 自定义消息路由
- 特殊的终止条件

## 关键概念

### Team (团队)

Team 是一组协同工作的 Agent 集合，提供了：
- Agent 的组织和管理
- 消息路由和分发
- 协作模式的定义
- 对话流的控制

### RoundRobin (轮询)

轮询模式的特点：
- Agent 按预定义顺序轮流发言
- 每个 Agent 都有平等的机会
- 简单且公平
- 适合需要广泛讨论的场景

### Selector (选择器)

选择器模式的特点：
- 根据任务内容选择最合适的 Agent
- 基于描述和匹配算法
- 可以跳过不相关的 Agent
- 提高效率和准确性

### Custom Team (自定义团队)

自定义团队允许：
- 完全控制消息流
- 实现任意协作逻辑
- 集成外部系统
- 添加自定义终止条件

## 团队类型对比

| 类型 | 优点 | 缺点 | 适用场景 |
|------|------|------|----------|
| RoundRobin | 公平、简单、全面 | 效率较低、可能冗余 | 头脑风暴、民主讨论 |
| Selector | 高效、精准、快速 | 需要良好的描述 | 专业分工、任务分发 |
| Custom | 灵活、强大、可定制 | 复杂、需要更多代码 | 特定业务流程 |

## 最佳实践

1. **合理定义 Agent 角色**
   - 清晰的职责描述
   - 明确的能力边界
   - 避免角色重叠
   - 突出专业领域

2. **优化团队配置**
   - 根据任务选择合适的团队类型
   - 合理设置 Agent 数量
   - 考虑性能和成本
   - 平衡效率和全面性

3. **管理对话流**
   - 设置合理的终止条件
   - 避免无限循环
   - 处理异常情况
   - 提供清晰的输出

4. **测试和调优**
   - 测试不同 Agent 组合
   - 验证团队协作效果
   - 优化 Agent 描述
   - 调整协作逻辑

5. **监控和调试**
   - 记录详细的对话日志
   - 追踪消息路由
   - 分析性能指标
   - 识别瓶颈

## 与其他模块的关系

- **Basics**: 团队由多个基础 Agent 组成
- **Conversations**: 团队实现了更高级的对话模式
- **Tools**: 团队中的 Agent 可以使用工具
- **Advanced**: 高级模式提供了更复杂的团队控制

## 学习路径

1. 先学习 `basics/` 中的单个 Agent 使用
2. 理解 `conversations/` 中的对话模式
3. 学习本目录中的团队模式
4. 进阶到 `tools/` 中的工具使用
5. 探索 `advanced/` 中的高级特性

## 相关文档

- [AutoGen 官方文档 - Teams](https://microsoft.github.io/autogen/stable/user-guide/agentchat-user-guide/tutorial/teams.html)
- [AgentChat API 参考](https://microsoft.github.io/autogen/stable/api/python/autogen_agentchat.html)

## 常见问题

### Q: 什么时候使用团队而不是单个 Agent？

A: 当任务需要多个角度、多个步骤、或者需要专业化分工时，使用团队可以提供更好的结果。

### Q: 如何选择 RoundRobin 还是 Selector？

A: 如果需要全面讨论和所有观点，使用 RoundRobin；如果需要高效和专业，使用 Selector。

### Q: 团队中应该有多少个 Agent？

A: 这取决于任务的复杂度和多样性。通常 3-5 个 Agent 是一个好的起点，避免过多导致混乱。

### Q: 如何防止团队陷入无限循环？

A: 设置最大轮次限制、明确的终止条件、或者使用 Selector 模式。

### Q: 可以在团队中使用工具吗？

A: 可以。团队中的每个 Agent 都可以配置和使用工具，工具的使用方式与单个 Agent 相同。

## 下一步

完成本章节后，建议继续学习：
- `tools/`: 工具使用
- `advanced/`: 高级特性
- `03-extensions/`: 扩展功能
- `04-integration/`: 集成案例